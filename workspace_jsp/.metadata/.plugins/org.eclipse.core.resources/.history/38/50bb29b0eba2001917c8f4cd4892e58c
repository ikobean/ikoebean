<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ajax_수업</title>
<!-- 
CSS와 JS 외부에서 import하는 경우 수정했음에도 반영이 안되는 경우 발생함.
이럴 땐 페이지 이름 뒤에 ?붙이고 임의의 문자 추가해서 get방식의 헛점을 피해서 테스트함.
같은 요청 건이면 브라우저가 인터셉트 함.- 서버까지 전달이 안됨.
버퍼캐시에 저장된 정보가 그대로 출력되는 거라서 수정된 내용이 반영이 안됨.
 -->
    <link rel="stylesheet" type="text/css" href="/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="/themes/icon.css?1">
    <link rel="stylesheet" type="text/css" href="/demo/demo.css">
    <script type="text/javascript" src="/js/jquery.min.js?2"></script>
    <script type="text/javascript" src="/js/jquery.easyui.min.js"></script>
  <script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js" charset="utf-8"></script>
	<script type="text/javascript">
		function login(){
			//insert here
			//alert("login 호출");
			var u_id = $("#mem_id").val();
			var u_pw = $("#mem_pw").val();
			$.ajax({
				method:"get"
			   ,url:"login.nhn?mem_id="+u_id+"&mem_pw="+u_pw
			   ,success:function(data){//loginAction.jsp페이지에서 처리된 결과 반환
				   //alert(data);//김유신님 환영합니다.
			   	   $("#d_login").hide();
			   	   $("#s_name").text(data);
				   $("#d_logout").show();
			   }
			});///////////end of ajax
		}/////////////////end of login
		function logout(){
			//insert here
			//alert("logout 호출");
			$("#d_login").show();
			$("#d_logout").hide();
		}/////////////////end of logout
	</script>
</head>
<body>
<script type="text/javascript">
	//해당하는 페이지의 DOM구성이 완료되었을 때
	$(document).ready(function(){
		//로그아웃 화면을 숨김처리
		$("#d_logout").hide();
	});
</script>
<center>
	<table width="900px" height="650px">
<!-- top.html 시작 -->	
		<tr>
			<td width="900px" height="50px">
			<table width="100%" height="100%" border="1" borderColor="orange">
				<tr>
					<td align="center">Ajax 수업</td>
				</tr>
			</table>
			</td>
		</tr>
<!-- top.html 끝 -->	
<!-- body.html 시작 -->			
		<tr>
			<td width="900px" height="570px">
			<table>
				<tr>
<!-- menu.html 시작 -->				
					<td width="250px" height="570px">
					<table width="100%" height="100%" border="1" borderColor="red">
						<tr>
							<td align="left" valign="top">
							<table border="1">
								<tr>
									<td height="20px">
<!--===================== 로그인 화면 시작 ======================-->	
									<div id="d_login">	
									<table>
										<tr><td><input class="easyui-textbox" name="mem_id" data-options="iconCls:'icon-man', prompt:'아이디'" style="width:170px"></td></tr>
										<tr><td><input class="easyui-textbox" name="user_pw" data-options="iconCls:'icon-lock', prompt:'비밀번호'" style="width:170px"></td></tr>
										<tr><td><a id="btn" href="javascript:login()" class="easyui-linkbutton" data-options="width:170">로그인</a></td></tr>
										  <!-- 네이버아이디로로그인 버튼 노출 영역 -->
  										<tr><td><div id="naver_id_login"></div></td></tr>
										<script type="text/javascript">
											var naver_id_login = new naver_id_login("ik_9iwk0aCNEp85yIYA5", "http://localhost:8000/ajax/index_ajax.html");
											var state = naver_id_login.getUniqState();
											naver_id_login.setButton("green", 3,40);
											naver_id_login.setDomain("http://localhost:8000/ajax/index_ajax.html");
											naver_id_login.setState(state);
											naver_id_login.setPopup();
											naver_id_login.init_naver_id_login();
										</script>  										
									</table>	
									</div>
<!--===================== 로그인 화면  끝   ======================-->									
<!--===================== 로그아웃 화면 시작 =====================-->
									<div id="d_logout">	
									<table>
										<tr><td><span id="s_name">Guest</span>님 환영합니다.</td></tr>
										<tr><td><a id="btn" href="javascript:logout()" class="easyui-linkbutton" data-options="width:170">로그아웃</a></td></tr>
									</table>	
									</div>									
<!--===================== 로그아웃 화면  끝   =====================-->									
									</td>
								</tr>
								<tr>
									<td height="20px">메뉴1</td>
								</tr>
								<tr>	
									<td height="20px">메뉴2</td>
								</tr>
							</table>
							</td>
						</tr>
					</table>
					</td>
<!-- menu.html  끝  -->				
					
<!-- body.html 시작 -->				
					<td width="650px" height="570px">
					<table width="100%" height="100%" border="1" borderColor="green">
						<tr>
							<td>콘텐츠</td>
						</tr>
					</table>					
					</td>
<!-- body.html  끝  -->				
				</tr>
			</table>
			</td>
		</tr>
<!-- body.html 끝 -->			
<!-- bottom.html 시작 -->			
		<tr>
			<td width="900px" height="30px">
			<table width="100%" height="100%" border="1" borderColor="brown">
				<tr>
					<td align="center">한국 소프트인재 개발원</td>
				</tr>
			</table>
			</td>
		</tr>
<!-- bottom.html 끝 -->					
	</table>
</center>
</body>
</html>